#!/usr/bin/env bash

INPUT="${DEV_FILE}"
OUTPUT="${MODEL_DIR}/dev-grammars"

mkdir -p "${OUTPUT}"

"${JAMR_HOME}/run" Generate.SentenceLevelGrammars \
    --weights "${MODEL_DIR}/rule-model" \
    --rule-inventory "${MODEL_DIR}/extract-rules" \
    --kbest 100 \
    --dependencies "${INPUT}.snt.deps" \
    --ner "${INPUT}.snt.IllinoisNER" \
    --tok "${INPUT}.snt.tok" \
    --snt "${INPUT}.snt" \
    --output "${OUTPUT}" \
    -v 1 \
    ${GENERATOR_OPTIONS} \
    < "${INPUT}.aligned" \
    > "${OUTPUT}.snt" \
    2> "${OUTPUT}.err"
    #${GENERATOR_GRAMMAR_OPTIONS} \

#    ${PARSER_OPTIONS} \
